# 4thGeneration-AdmissionVideo-Form

## 概要

このプロジェクトは、神山まるごと高専4期生向け入学初志動画（ドキュメンタリー）制作のためのアンケート誘導サイトです。


#README.md_example
/*
    # プロジェクト名

    ## 概要

    このプロジェクトは、[プロジェクトの目的] を実現するためのものです。[プロジェクトの主な機能] を備えています。

    ## インストール

    1. [プロジェクトの依存関係をインストールするコマンド]
    2. [必要な設定を行うコマンド]

    ## 使い方

    1. [プロジェクトを実行するコマンド]
    2. [プロジェクトの主な機能の使い方を説明]
    3. [コード例を記述]

    ## 運用

    1. [プロジェクトのフォークを作成]
    2. [変更を加える]
    3. [プルリクエストを送信]など

    ## ライセンス

    このプロジェクトは、[ライセンス名] ライセンスの下でライセンスされています。

    ## 更新履歴

    * 2023/12/12: [README.md を更新]
*/


神山まるごと高専 4期生向け  
「入学初志」ドキュメンタリー制作のためのアンケート誘導サイトです。

封筒 → 手紙 → Google Form → 祝福メッセージ  
という一連の体験を、**単一の `index.html`** で提供します。

---

## このサイトがやっていること

- 入学前の新入生に「手紙」としてメッセージを届ける
- その流れでアンケートへの回答をお願いする
- 回答後は祝福のメッセージで体験を閉じる

「回答させる」よりも  
**「ちゃんと届いたと感じてもらう」ことを重視**しています。

---

## ユーザーフロー

1. 画面をクリックして開始  
2. 封筒が表示される  
3. 封筒をクリックして開封  
4. 少し待って自動で手紙が展開  
5. 手紙を読み、フォームへ進む  
6. フォーム送信後、自動で次の演出へ  
7. 最後に祝福メッセージと花吹雪  

※ フォーム送信が検知できない環境向けに救済導線（次へ）はありますが、  
**未送信のまま先に進むことはできません。**

---

## 技術構成

- HTML / CSS / Vanilla JavaScript  
- Google Forms（iframe 埋め込み）  
- `<canvas>` による花びら・花吹雪描画  
- ビルド不要・静的ページ  

---

## セットアップ

### ローカル確認（簡易）

- `index.html` をブラウザで直接開く

### 推奨

- VSCode Live Server 等でローカルサーバー起動

---

## 開発者向けガイド

### 触っていい場所（安全）

#### 文言・文章
- `#paperInner` 内の HTML（手紙本文）
- 回答締切・説明文など
- Google Form の URL

#### デザイン微調整
- CSS変数（`:root`）
- `.small-char`, `.vspace`, `.letterList`, `.kv`
- 手紙サイズ調整（`pad`, `h`）

#### 演出の強さ
- `CONFETTI_MODE`（`off / light / full`）
- `ENABLE_PETAL_BOOST`（通常は `false`）

---

### 慎重に触る場所（壊れやすい）

- `step` による状態管理
- `submitDetected` の制御
- `showIntro / showEnvelope / showPaper / showForm / showFinale`
- Google Form 送信検知ロジック（iframe `load`）

ここを雑に触ると  
**「未送信で進める」「送信しても進まない」事故が起きます。**

---

### 触らないほうがいい場所（理由がない限り）

- フォールバック（救済）タイマー
- `manualNext` の有効 / 無効制御
- 花びら描画ロジック（canvas パス）

---

## 運用・引き継ぎ用（非エンジニア向け）

### 普段やること

- 手紙本文の修正
- 回答締切日の更新
- Google Form の差し替え

👉 **HTMLの文章部分だけ触ればOKです。**

### やらなくていいこと

- JavaScriptの修正
- フォーム送信判定の調整
- 花びらの挙動変更

---

## デバッグ

- `DEBUG = true` にすると画面左下に状態HUDが表示されます
- コンソールを開かずに動作確認が可能です

---

## 注意点

- Google Form の iframe 挙動は環境差があります  
- そのため **送信検知の多重安全策** と **救済導線** を実装しています  
- フローを壊さないよう、`step` と `submitDetected` の扱いには注意してください  

---

## ライセンス

必要に応じて追記してください。