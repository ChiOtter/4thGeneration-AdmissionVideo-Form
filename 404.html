<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Page Not Found</title>

    <style media="screen">
      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px 16px; border-radius: 3px; }
      #message h3 { color: #888; font-weight: normal; font-size: 16px; margin: 16px 0 12px; }
      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        body { border-top: 16px solid #ffa100; }
      }
      /* ---- Custom background + sakura petals (keeps popup unchanged) ---- */
      html, body { height: 100%; }

      body {
        background:
          radial-gradient(1200px 700px at 20% 10%, rgba(232,183,201,.35), transparent 55%),
          radial-gradient(1000px 800px at 80% 20%, rgba(184,207,195,.35), transparent 60%),
          linear-gradient(180deg, #eef2f1, #dfe7e3);
        overflow: hidden;
      }

      #petals{
        position: fixed;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
      }

      /* bring Firebase card above the canvas */
      #message{
        position: relative;
        z-index: 2;
      }

      /* Global credit (always bottom-left) */
      #globalCredit{
        position: fixed;
        left: 18px;
        bottom: 18px;
        z-index: 100000; /* above any canvas/card */
        font-size: 12px;
        letter-spacing: .02em;
        color: rgba(31,41,51,.60);
        text-shadow: 0 1px 10px rgba(255,255,255,.55);
        pointer-events: none;
        user-select: none;
        white-space: nowrap;
      }
    </style>
  </head>
  <body>
    <canvas id="petals" aria-hidden="true"></canvas>
    <div id="globalCredit" aria-hidden="true">在学生一同（代表）</div>
    <div id="message">
      <h2>404</h2>
      <h1>Page Not Found</h1>
      <p>The specified file was not found on this website. Please check the URL for mistakes and try again.</p>
      <h3>Why am I seeing this?</h3>
      <p>This page was generated by the Firebase Command-Line Interface. To modify it, edit the <code>404.html</code> file in your project's configured <code>public</code> directory.</p>
    </div>
    <script>
      (() => {
        const canvasBack = document.getElementById('petals');
        if (!canvasBack) return;

        // Respect reduced-motion
        const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (reduceMotion) return;

        const ctx = canvasBack.getContext('2d');

        let W = 0, H = 0;
        let DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));

        function resizeBack() {
          W = Math.floor(window.innerWidth);
          H = Math.floor(window.innerHeight);
          canvasBack.width = Math.floor(W * DPR);
          canvasBack.height = Math.floor(H * DPR);
          canvasBack.style.width = W + 'px';
          canvasBack.style.height = H + 'px';
          ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
        }

        window.addEventListener('resize', resizeBack);
        resizeBack();

        function rand(min, max) { return Math.random() * (max - min) + min; }

        // Lighter than index.html, but same feel
        const BASE_COUNT = Math.min(80, Math.max(36, Math.floor(W / 20)));
        const petals = [];

        function makePetal() {
          const size = rand(6, 14);
          return {
            x: rand(-W * 0.1, W * 1.1),
            y: rand(-H, H),
            vx: rand(-0.25, 1.0),
            vy: rand(0.9, 2.0),
            rot: rand(0, Math.PI * 2),
            vr: rand(-0.03, 0.03),
            size,
            wob: rand(0, Math.PI * 2),
            wobSpd: rand(0.01, 0.035),
            alpha: rand(0.30, 0.70),
            hue: rand(342, 356),
            sat: rand(55, 78),
            light: rand(72, 84),
            edge: rand(55, 68),
          };
        }

        for (let i = 0; i < BASE_COUNT; i++) petals.push(makePetal());

        function drawPetal(p) {
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);

          // Reference-like sakura petal: slim heart/teardrop with shallow notch
          const w = p.size * 1.15;
          const h = p.size * 2.05;

          const topY = -h;
          const notchY = -h * 0.78;
          const tipY = h;

          const notchW = w * 0.22;     // notch half width
          const humpY = topY + h * 0.12;
          const shoulderY = -h * 0.55;
          const shoulderX = w * 0.66;

          // Soft sakura gradient (daytime-friendly)
          const grad = ctx.createLinearGradient(0, topY, 0, tipY);
          grad.addColorStop(0, `hsla(${p.hue}, ${p.sat}%, ${Math.min(95, p.light + 10)}%, ${p.alpha})`);
          grad.addColorStop(0.55, `hsla(${p.hue}, ${p.sat}%, ${p.light}%, ${p.alpha})`);
          grad.addColorStop(1, `hsla(${p.hue - 6}, ${Math.max(35, p.sat - 18)}%, ${Math.max(60, p.edge)}%, ${p.alpha})`);

          ctx.fillStyle = grad;
          ctx.beginPath();

          // Start at the notch valley
          ctx.moveTo(0, notchY);

          // Up to right hump (creates the split)
          ctx.bezierCurveTo(
            notchW * 0.55, notchY - h * 0.10,
            notchW * 1.00, topY + h * 0.02,
            notchW * 1.10, humpY
          );

          // Out to right shoulder
          ctx.bezierCurveTo(
            w * 0.60, humpY + h * 0.10,
            shoulderX * 1.05, shoulderY + h * 0.02,
            shoulderX, shoulderY
          );

          // Down to sharp-ish tip (teardrop)
          ctx.bezierCurveTo(
            w * 1.10, -h * 0.05,
            w * 0.80, h * 0.55,
            0, tipY
          );

          // Mirror up left side
          ctx.bezierCurveTo(
            -w * 0.80, h * 0.55,
            -w * 1.10, -h * 0.05,
            -shoulderX, shoulderY
          );

          // In to left hump
          ctx.bezierCurveTo(
            -shoulderX * 1.05, shoulderY + h * 0.02,
            -w * 0.60, humpY + h * 0.10,
            -notchW * 1.10, humpY
          );

          // Back to notch valley
          ctx.bezierCurveTo(
            -notchW * 1.00, topY + h * 0.02,
            -notchW * 0.55, notchY - h * 0.10,
            0, notchY
          );

          ctx.closePath();
          ctx.fill();

          // Subtle edge highlight
          ctx.globalAlpha = p.alpha * 0.16;
          ctx.strokeStyle = 'rgba(255,255,255,.60)';
          ctx.lineWidth = 1;
          ctx.stroke();

          // Tiny highlight near upper area
          ctx.globalAlpha = p.alpha * 0.08;
          ctx.fillStyle = 'rgba(255,255,255,.65)';
          ctx.beginPath();
          ctx.ellipse(w * 0.10, topY + h * 0.30, w * 0.20, h * 0.10, -0.6, 0, Math.PI * 2);
          ctx.fill();

          ctx.restore();
        }

        function tickBack(t) {
          ctx.clearRect(0, 0, W, H);
          const wind = Math.sin(t * 0.0004) * 0.6;

          for (const p of petals) {
            p.wob += p.wobSpd;
            const wobX = Math.sin(p.wob) * 0.9;

            p.x += p.vx + wind + wobX;
            p.y += p.vy;
            p.rot += p.vr;

            if (p.y > H + 40 || p.x < -80 || p.x > W + 80) {
              p.x = rand(-W * 0.1, W * 1.1);
              p.y = rand(-140, -20);
              p.vx = rand(-0.25, 1.0);
              p.vy = rand(0.9, 2.2);
              p.alpha = rand(0.30, 0.70);
              p.size = rand(6, 14);
              p.hue = rand(342, 356);
              p.sat = rand(55, 78);
              p.light = rand(72, 84);
              p.edge = rand(55, 68);
            }

            drawPetal(p);
          }

          requestAnimationFrame(tickBack);
        }

        requestAnimationFrame(tickBack);
      })();
    </script>
  </body>
</html>
